<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Seletor de Hor√°rios - Disciplinas</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #2c3e50, #3498db);
        color: white;
        padding: 30px;
        text-align: center;
      }

      .header h1 {
        font-size: 2.5rem;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .header p {
        font-size: 1.1rem;
        opacity: 0.9;
      }

      .main-content {
        padding: 30px;
      }

      .disciplines-grid {
        display: flex;
        flex-direction: row;
        gap: 25px;
        margin-bottom: 30px;
        overflow-x: auto;
        padding-bottom: 10px;
      }

      .discipline-card {
        background: white;
        border-radius: 15px;
        padding: 20px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        border: 2px solid transparent;
        transition: all 0.3s ease;
        flex: 0 0 auto;
        min-width: 300px;
      }

      .discipline-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        border-color: #3498db;
      }

      .discipline-title {
        font-size: 1.4rem;
        font-weight: bold;
        color: #2c3e50;
        margin-bottom: 15px;
        text-align: center;
        padding: 10px;
        background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        border-radius: 10px;
      }

      .turma-selector {
        margin-bottom: 15px;
      }

      .turma-selector label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #34495e;
      }

      .turma-buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }

      .turma-button {
        padding: 10px 15px;
        border: 2px solid #ddd;
        border-radius: 8px;
        font-size: 0.9rem;
        background: white;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .turma-button:hover {
        background: #f8f9fa;
      }

      .turma-button.selected {
        background: #3498db;
        color: white;
        border-color: #3498db;
      }

      .turma-button:focus {
        outline: none;
        border-color: #3498db;
        box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
      }

      .schedule-container {
        background: white;
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        margin-top: 30px;
      }

      .schedule-title {
        font-size: 1.8rem;
        color: #2c3e50;
        margin-bottom: 20px;
        text-align: center;
        font-weight: bold;
      }

      .schedule-grid {
        display: grid;
        grid-template-columns: 100px repeat(5, 1fr);
        gap: 1px;
        background: #ddd;
        border-radius: 10px;
        overflow: hidden;
      }

      .schedule-header {
        background: linear-gradient(135deg, #34495e, #2c3e50);
        color: white;
        padding: 15px 10px;
        text-align: center;
        font-weight: bold;
      }

      .time-slot {
        background: #f8f9fa;
        padding: 15px 10px;
        text-align: center;
        font-weight: 600;
        color: #2c3e50;
        border-right: 1px solid #ddd;
      }

      .schedule-cell {
        background: white;
        padding: 10px;
        min-height: 60px;
        position: relative;
        transition: all 0.3s ease;
      }

      .schedule-cell:hover {
        background: #f8f9fa;
      }

      .class-block {
        background: linear-gradient(135deg, #3498db, #2980b9);
        color: white;
        padding: 8px;
        border-radius: 6px;
        font-size: 0.9rem;
        font-weight: bold;
        text-align: center;
        margin-bottom: 5px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
      }

      .class-block:hover {
        transform: scale(1.05);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      }

      .conflict {
        background: linear-gradient(135deg, #e74c3c, #c0392b) !important;
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% {
          opacity: 1;
        }
        50% {
          opacity: 0.7;
        }
        100% {
          opacity: 1;
        }
      }

      .no-conflicts {
        background: #27ae60;
        color: white;
        padding: 10px 20px;
        border-radius: 25px;
        text-align: center;
        margin-top: 20px;
        font-weight: bold;
      }

      .conflicts-warning {
        background: #e74c3c;
        color: white;
        padding: 10px 20px;
        border-radius: 25px;
        text-align: center;
        margin-top: 20px;
        font-weight: bold;
      }

      @media (max-width: 768px) {
        .disciplines-grid {
          flex-direction: column;
        }

        .discipline-card {
          min-width: 100%;
        }

        .schedule-grid {
          font-size: 0.8rem;
        }

        .header h1 {
          font-size: 2rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üìÖ Seletor de Hor√°rios</h1>
        <p>
          Selecione as turmas para cada disciplina e visualize seu hor√°rio
          semanal
        </p>
      </div>

      <div class="main-content">
        <div class="disciplines-grid" id="disciplinesGrid">
          <!-- Disciplines will be populated here -->
        </div>

        <div class="schedule-container">
          <h2 class="schedule-title">üóìÔ∏è Hor√°rio Semanal</h2>
          <div class="schedule-grid" id="scheduleGrid">
            <!-- Schedule will be populated here -->
          </div>
          <div id="conflictStatus"></div>
        </div>
      </div>
    </div>

    <script>
      // Expanded schedule data with 12 classes per discipline
      const scheduleData = {
        AMIII: {
          t1: [
            { dia: "terca-feira", horario: "09:00-11:00" },
            { dia: "quinta-feira", horario: "09:00-11:00" },
          ],
          t2: [
            { dia: "terca-feira", horario: "11:00-13:00" },
            { dia: "quinta-feira", horario: "11:00-13:00" },
          ],
          t3: [
            { dia: "terca-feira", horario: "14:00-16:00" },
            { dia: "quinta-feira", horario: "14:00-16:00" },
          ],
        },
        POO: {
          t1: [
            { dia: "segunda-feira", horario: "11:00-13:00" },
            { dia: "quinta-feira", horario: "16:00-18:00" },
          ],
          t2: [
            { dia: "segunda-feira", horario: "9:00-11:00" },
            { dia: "quinta-feira", horario: "18:00-20:00" },
          ],
          t3: [
            { dia: "terca-feira", horario: "11:00-13:00" },
            { dia: "quinta-feira", horario: "14:00-16:00" },
          ],
          t4: [
            { dia: "terca-feira", horario: "14:00-16:00" },
            { dia: "quinta-feira", horario: "16:00-18:00" },
          ],
          t5: [
            { dia: "terca-feira", horario: "18:00-20:00" },
            { dia: "quinta-feira", horario: "18:00-20:00" },
          ],
          t6: [
            { dia: "segunda-feira", horario: "11:00-13:00" },
            { dia: "quarta-feira", horario: "09:00-11:00" },
          ],
          t7: [
            { dia: "quarta-feira", horario: "11:00-13:00" },
            { dia: "sexta-feira", horario: "09:00-11:00" },
          ],
          t8: [
            { dia: "segunda-feira", horario: "09:00-11:00" },
            { dia: "quinta-feira", horario: "09:00-11:00" },
          ],
        },
        SO: {
          t1: [{ dia: "segunda-feira", horario: "18:00-20:00" }],
          t2: [{ dia: "sexta-feira", horario: "16:00-18:00" }],
          t3: [{ dia: "sexta-feira", horario: "14:00-16:00" }],
          t4: [{ dia: "segunda-feira", horario: "18:00-20:00" }],
          t5: [{ dia: "quarta-feira", horario: "09:00-11:00" }],
          t6: [{ dia: "terca-feira", horario: "09:00-11:00" }],
          t7: [{ dia: "terca-feira", horario: "11:00-13:00" }],
          t8: [{ dia: "terca-feira", horario: "18:00-20:00" }],
          t9: [{ dia: "terca-feira", horario: "18:00-20:00" }],
          t10: [{ dia: "quarta-feira", horario: "09:00-11:00" }],
          t11: [{ dia: "quarta-feira", horario: "11:00-13:00" }],
        },
        TI: {
          t1: [{ dia: "terca-feira", horario: "11:00-13:00" }],
          t2: [{ dia: "sexta-feira", horario: "16:00-18:00" }],
          t3: [{ dia: "terca-feira", horario: "14:00-16:00" }],
          t4: [{ dia: "terca-feira", horario: "18:00-20:00" }],
          t5: [{ dia: "sexta-feira", horario: "14:00-16:00" }],
          t6: [{ dia: "segunda-feira", horario: "18:00-20:00" }],
          t7: [{ dia: "sexta-feira", horario: "09:00-11:00" }],
          t8: [{ dia: "segunda-feira", horario: "16:00-18:00" }],
        },
        TC: {
          t1: [{ dia: "terca-feira", horario: "09:00-11:00" }],
          t2: [{ dia: "segunda-feira", horario: "11:00-13:00" }],
          t3: [{ dia: "quinta-feira", horario: "16:00-18:00" }],
          t4: [{ dia: "quinta-feira", horario: "14:00-16:00" }],
          t5: [{ dia: "segunda-feira", horario: "16:00-18:00" }],
          t6: [{ dia: "quinta-feira", horario: "18:00-20:00" }],
          t7: [{ dia: "sexta-feira", horario: "14:00-16:00" }],
          t8: [{ dia: "sexta-feira", horario: "16:00-18:00" }],
        },
      };

      const days = [
        "segunda-feira",
        "terca-feira",
        "quarta-feira",
        "quinta-feira",
        "sexta-feira",
      ];
      const timeSlots = [
        "09:00-11:00",
        "11:00-13:00",
        "14:00-16:00",
        "16:00-18:00",
        "18:00-20:00",
      ];
      const selectedClasses = {};

      function initializePage() {
        createDisciplineSelectors();
        createScheduleGrid();
      }

      function createDisciplineSelectors() {
        const grid = document.getElementById("disciplinesGrid");

        Object.keys(scheduleData).forEach((discipline) => {
          const card = document.createElement("div");
          card.className = "discipline-card";

          const title = document.createElement("div");
          title.className = "discipline-title";
          title.textContent = discipline;

          const selector = document.createElement("div");
          selector.className = "turma-selector";

          const label = document.createElement("label");
          label.textContent = "Selecionar Turma:";

          const buttonContainer = document.createElement("div");
          buttonContainer.className = "turma-buttons";

          // Add turma buttons
          Object.keys(scheduleData[discipline]).forEach((turma) => {
            const button = document.createElement("button");
            button.className = "turma-button";
            button.textContent = turma.toUpperCase();
            button.dataset.discipline = discipline;
            button.dataset.turma = turma;

            button.addEventListener("click", () => {
              // Deselect previously selected button
              const selectedButton = buttonContainer.querySelector(".selected");
              if (selectedButton) {
                selectedButton.classList.remove("selected");
              }

              // Toggle selection
              if (selectedClasses[discipline] === turma) {
                delete selectedClasses[discipline];
              } else {
                button.classList.add("selected");
                selectedClasses[discipline] = turma;
              }

              updateSchedule();
            });

            buttonContainer.appendChild(button);
          });

          selector.appendChild(label);
          selector.appendChild(buttonContainer);
          card.appendChild(title);
          card.appendChild(selector);
          grid.appendChild(card);
        });
      }

      function createScheduleGrid() {
        const grid = document.getElementById("scheduleGrid");

        // Empty corner cell
        const cornerCell = document.createElement("div");
        cornerCell.className = "schedule-header";
        cornerCell.textContent = "Hor√°rio";
        grid.appendChild(cornerCell);

        // Day headers
        days.forEach((day) => {
          const dayCell = document.createElement("div");
          dayCell.className = "schedule-header";
          dayCell.textContent =
            day.charAt(0).toUpperCase() + day.slice(1).replace("-feira", "");
          grid.appendChild(dayCell);
        });

        // Time slots and cells
        timeSlots.forEach((time) => {
          // Time slot header
          const timeCell = document.createElement("div");
          timeCell.className = "time-slot";
          timeCell.textContent = time;
          grid.appendChild(timeCell);

          // Day cells for this time slot
          days.forEach((day) => {
            const cell = document.createElement("div");
            cell.className = "schedule-cell";
            cell.id = `${day}-${time}`;
            grid.appendChild(cell);
          });
        });
      }

      function updateSchedule() {
        // Clear all cells
        document.querySelectorAll(".schedule-cell").forEach((cell) => {
          cell.innerHTML = "";
          cell.classList.remove("conflict");
        });

        const occupiedSlots = {};
        let hasConflicts = false;

        // Add selected classes to schedule
        Object.entries(selectedClasses).forEach(([discipline, turma]) => {
          const classes = scheduleData[discipline][turma];

          classes.forEach((classInfo) => {
            const cellId = `${classInfo.dia}-${classInfo.horario}`;
            const cell = document.getElementById(cellId);

            if (cell) {
              const classBlock = document.createElement("div");
              classBlock.className = "class-block";
              classBlock.textContent = `${discipline} - ${turma.toUpperCase()}`;

              // Check for conflicts
              if (occupiedSlots[cellId]) {
                classBlock.classList.add("conflict");
                // Also mark the existing block as conflict
                const existingBlock = cell.querySelector(".class-block");
                if (existingBlock) {
                  existingBlock.classList.add("conflict");
                }
                hasConflicts = true;
              }

              cell.appendChild(classBlock);
              occupiedSlots[cellId] = true;
            }
          });
        });

        // Update conflict status
        updateConflictStatus(hasConflicts);
      }

      function updateConflictStatus(hasConflicts) {
        const statusDiv = document.getElementById("conflictStatus");

        if (Object.keys(selectedClasses).length === 0) {
          statusDiv.innerHTML = "";
          return;
        }

        if (hasConflicts) {
          statusDiv.innerHTML =
            '<div class="conflicts-warning">‚ö†Ô∏è Aten√ß√£o: Existem conflitos de hor√°rios!</div>';
        } else {
          statusDiv.innerHTML =
            '<div class="no-conflicts">‚úÖ Sem conflitos de hor√°rios!</div>';
        }
      }

      // Initialize the page when DOM is loaded
      document.addEventListener("DOMContentLoaded", initializePage);
    </script>
  </body>
</html>
